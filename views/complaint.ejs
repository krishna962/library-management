<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Raise Complaint</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/complaint.css">
</head>
<body>

    <!-- ‚úÖ Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/student-dashboard" class="logo">üìö Library System</a>
    
            <!-- ‚úÖ Hamburger Icon -->
            <div class="hamburger" id="hamburger">
                &#9776;
            </div>
    
            <!-- ‚úÖ Menu Links -->
            <ul class="nav-links" id="nav-links">
                <li><a href="/student-dashboard/view-complaints">All Complaints</a></li>
            </ul>
        </div>
    </nav>
    

    <div class="container">
        <h1>üìù Raise a Complaint</h1>
        <p>Hello <strong><%= user.name %></strong>, use the form below to submit your issue.</p>

        <!-- ‚úÖ Success/Error Alerts -->
        <% if (success_msg && success_msg.length > 0) { %>
            <div class="alert success" id="success-msg"><%= success_msg %> Our team will solve it as soon as possible.</div>
        <% } %>
        <% if (error_msg && error_msg.length > 0) { %>
            <div class="alert error" id="error-msg"><%= error_msg %></div>
        <% } %>

        <!-- ‚úÖ Complaint Form -->
        <form action="/student-dashboard/complaint" method="POST">
            <input type="text" name="subject" placeholder="Subject" required>
            <textarea name="message" placeholder="Describe your issue..." required></textarea>
            <button type="submit">Submit Complaint</button>
        </form>

        <a href="/student-dashboard" class="back-link">‚¨Ö Back to Dashboard</a>
    </div>

    <!-- ‚úÖ Footer -->
    <footer class="footer">
        <p>&copy; <%= new Date().getFullYear() %> Library Management System. All rights reserved.</p>
    </footer>

    <!-- ‚úÖ Hide messages after 5 seconds -->
    <script>
        window.onload = function() {
            const success = document.getElementById('success-msg');
            const error = document.getElementById('error-msg');

            if (success) {
                setTimeout(() => { success.style.display = 'none'; }, 5000);
            }

            if (error) {
                setTimeout(() => { error.style.display = 'none'; }, 5000);
            }
        };
    </script>
<script>
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('nav-links');

    hamburger.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });
</script>


</body>
</html>
